webpackJsonp([17],{"82Uf":function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c("4YfN"),o=c.n(a),n=c("+ryu"),i=c("V7Bk"),s=c("M6Nr"),l=c("9rMa"),r=c("jt1B"),h=c("gyMJ"),u={components:{pagination:n.a,collectBtn:i.a,collectContent:s.a},data:function(){var t=this;return{total:200,title:"我的搜索",btn:[{name:"删除",iconName:"icon-unie639",className:"report_blue",fn:function(){t.reportSearchHistoryDeleteAjax()}}],collectList:[],collectCheckList:[]}},computed:o()({},Object(l.c)(["dataPage","dataLimit"])),methods:{reportSearchHistoryListAjax:function(){var t=this;Object(h.H)({page:this.dataPage,size:this.dataLimit}).then(function(e){if(console.log("获取历史搜索列表",e),200==e.code){t.total=e.data.total;var c=[];e.data.list.forEach(function(t,e){var a={createDate:t.createDate,id:t.id,searchCount:t.searchCount,reportUrl:t.searchImg,reportName:t.searchName,userId:t.userId};c.push(a)}),t.collectCheckList=[],t.collectList=c}}).catch(function(t){console.log(t)})},reportSearchHistoryDeleteAjax:function(){var t=this;this.$confirm("确定要删除这些报告吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=t.collectCheckList.join(",");Object(h.G)({ids:e}).then(function(e){console.log("删除搜索记录",e),200==e.code&&(t.reportSearchHistoryListAjax(),Object(r.a)({message:"删除成功",type:"success"}))}).catch(function(t){console.log(t)})}).catch(function(){Object(r.a)({message:"已取消删除"})})}},watch:{dataLimit:{handler:function(t,e){this.reportSearchHistoryListAjax()},deep:!0},dataPage:{handler:function(t,e){this.reportSearchHistoryListAjax()},deep:!0}},created:function(){this.reportSearchHistoryListAjax()},mounted:function(){this.$root.search=""}},d={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"collect"},[c("div",{staticClass:"search-result"},[c("div",{staticClass:"content"},[c("div",{staticClass:"clearfix main_sum"},[c("div",{staticClass:"main_echarts"},[c("collect-btn",{attrs:{btnCollectList:t.collectList,btnCollectCheckList:t.collectCheckList,title:t.title,type:"mySeek",btn:t.btn},on:{"update:btnCollectList":function(e){t.collectList=e},"update:btnCollectCheckList":function(e){t.collectCheckList=e}}}),t._v(" "),c("collect-content",{attrs:{contentCollectList:t.collectList,contentCollectCheckList:t.collectCheckList,type:"mySeek"},on:{"update:contentCollectCheckList":function(e){t.collectCheckList=e}}}),t._v(" "),c("div",{staticClass:"clearfix"},[c("pagination",{attrs:{total:t.total}})],1)],1)])])])])},staticRenderFns:[]};var f=c("vSla")(u,d,!1,function(t){c("EbXl")},"data-v-44328cfe",null);e.default=f.exports},EbXl:function(t,e){}});